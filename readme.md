# diamond-finder

## Начало работы

Для начала работы с проектом выполните следующие шаги:

### 1. Запуск контейнера PostgreSQL

Для запуска контейнера PostgreSQL с нужной конфигурацией используйте команду:

```bash
docker run --name postgres-game \
  -e POSTGRES_USER=game_user \
  -e POSTGRES_PASSWORD=game_password \
  -e POSTGRES_DB=game_db \
  -p 5432:5432 \
  -d postgres

```
Эта команда создаст контейнер с именем postgres-game, установит пользователя game_user, пароль game_password и базу данных game_db. Контейнер будет слушать порт 5432 на хосте и работать в фоновом режиме.

## **Установка зависимостей**

### Если у вас нету Yarn, установите его:
Установите Yarn глобально:

  `npm install --global yarn`

### Установите зависимости проекта:

  `yarn install`

# Генерация миграций и сборка бэкенда
После того как контейнер PostgreSQL будет запущен, необходимо создать и применить миграции, а также собрать бэкенд. Для этого выполните следующие шаги:

### Генерация миграций
 `yarn run start:migration:generate`

Эта команда сгенерирует миграции, если они еще не были созданы.

# Сборка бэкенда
`yarn run build:backend`

После этого соберите бэкенд для запуска, скомпилировав все необходимые файлы.

# Применение миграций
`yarn run start:migration:run`

Примените все миграции к базе данных, чтобы структура базы данных была актуальной и соответствовала проекту.

# Запуск бэкенда и фронтенда
После того как все миграции были применены и бэкенд собран, запустите сервер бэкенда и фронтенда:

`yarn run start:backend`

Эта команда запустит сервер бэкенда, который будет обрабатывать запросы и взаимодействовать с базой данных.

# Запуск фронтенда
`yarn run start:frontend`

Запустит сервер фронтенда, который будет обслуживать клиентскую часть проекта. Убедитесь, что ваши настройки фронтенда правильно связаны с сервером бэкенда.

перейти на http://localhost:8080/

так же можно отредактировать `.env` файл в корне каждого проекта

# TODO
- [ ] Закончить с Docker файлом для фронта
- [ ] Добавить валидацию значений в форме
- [ ] Добавить систему авторизации (JWT)
- [ ] Логирование действий пользователей (winston/pino)
- [ ] Обработка отключения игрока (таймаут на реконнект)
- [ ] Unit и e2e тесты (Jest)
- [ ] Swagger документация API
- [ ] Валидация входящих WebSocket сообщений

- [ ] Добавить rate limiting
- [ ] Добавить валидацию всех входящих данных
- [ ] Добавить защиту от SQL инъекций
